Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Кошель Николай Павлович`

### Задание 1

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер; 
- master-сервер и несколько slave-серверов;


*Дайте ответ в свободной форме.*

---
//
Основные преимущества использования масштабирования с активным мастером и пассивным репликационным слейвом-сервером:

Повышение отказоустойчивости: при сбое пассивного сервера, он может быть быстро активирован, обеспечивая минимальное время простоя.
Распределение нагрузки: чтение запросов может распределяться между мастером и слейвом, снижая нагрузку на основной сервер.
Обеспечение резервного копирования: пассивный сервер служит резервной копией данных и может использоваться для восстановления в случае необходимости.
Простота настройки и управления: структура достаточно проста и хорошо подходит для масштабирования систем без сложных мер по разделению ролей.

Для сценария с одним мастер-сервером и несколькими слейв-серверами:

Увеличение пропускной способности: несколько слейв-серверов позволяют обрабатывать большее количество запросов на чтение.
Улучшение масштабируемости: добавление новых слейвов позволяет масштабировать систему по мере роста нагрузки.
Распределение нагрузок по чтению: разные запросы на чтение могут обслуживаться разными слейвами, что повышает общую эффективность системы.
Повышение надежности: отказ одного из слейвов не влияет на работу мастер-сервера и других слейвов.
---

### Задание 2


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или разбивку между базами данных.
---
//
Горизонтальный шаринг:

Разделение таблиц по диапазонам или спискам пользователей, книг или магазинов.
Например, пользователи с ID 1–1000 находятся на одном сервере, 1001–2000 на другом.
Это увеличивает скорость доступа к данным в рамках одной таблицы, обеспечивает балансировку нагрузки.

Вертикальный шаринг:

Разделение таблиц по столбцам.
Например, все основные данные пользователей (имя, email) — на одном сервере, а дополнительные (акции, история заказов) — на другом.
Такой подход снижает нагрузку на отдельные сервера и повышает безопасность.

Разграничение и разбивка:

На одном сервере хранятся основные таблицы для быстрой работы с ключевыми данными.
На других серверах — вспомогательные таблицы или логика бизнес-процессов.
Разграничение доступа — по принципу роли или уровня доступа.
---
*Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.* 
---
//
```
                         [Клиент]
                             |
          -----------------------------------------------------
          |                     |                           |
    [Сервер ГШ1]           [Сервер ГШ2]               [Центральный]
   Горизонтальный шаринг  Горизонтальный шаринг        сервер (Мастер)
   (первая часть данных)   (вторая часть данных)        |
          |                     |                       |  
    ----------------       ----------------         ----------------
    |              |       |              |       |              |
[Таблица user_1]  [user_2]  [таблица books_1]  [books_2]     [tab_м магазинов]
(горизонтальный)   (горизонтальный) (горизонтальный)(горизонтальный) (вертикальный)
```
Горизонтальные шаринги:

Таблицы users разделены по диапазонам ID или регионам и хранятся на отдельных серверах (ГШ1, ГШ2).
Таблицы books также разделены по диапазонам.
Каждое разделение – это отдельный сервер для ускорения чтения и уменьшения нагрузки на один сервер.

Вертикальный шаринг:

Таблицы stores (магазины) находятся на отдельном сервере, так как это более объемная таблица и её можно разграничить по столбцам.
Внутри таблиц могут быть разделены столбцы по режимам доступа и частоте изменения.

Настройка режимов работы серверов

Основной сервер (Мастер):

Ведет все операции записи и обновления данных.
Обеспечивает целостность данных.

Реплики (репликационные серверы):

Используются для чтения данных.
Работают в режиме read-only для увеличения пропускной способности чтения.
Обновляются через механизмы репликации (например, асинхронную или синхронную).

Режимы работы:

Read-only режим: для серверов, обслуживающих запросы на чтение, минимизация нагрузок на основной сервер.
Read-write режим: только на основном сервере, где происходит внесение изменений.
Синхронная репликация: для обеспечения актуальности данных на репликах.
Асинхронная репликация: для больших масштабов, при которой задержка между изменениями на основном и репликах допускается.
---
